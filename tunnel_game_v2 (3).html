<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>لعبة الأنفاق — مشاهدة الحلول حسب المستوى</title>
  <meta name="description" content="واجهة أنيقة لعرض حلول لعبة الأنفاق حسب المستويات مع فيديوهات مدمجة.">
  <meta name="theme-color" content="#f59e0b">
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    * { box-sizing: border-box; }
    @keyframes float { 0%,100%{transform:translateY(0)} 50%{transform:translateY(-12px)} }
    .hero-illustration{ animation: float 3s ease-in-out infinite; }
    .level-card{ transition: transform .3s ease, box-shadow .3s ease; }
    .level-card:hover{ transform: translateY(-5px); box-shadow: 0 10px 30px rgba(0,0,0,.2); }
    .video-container{ position:relative; width:100%; padding-bottom:56.25%; background:#000; border-radius:12px; overflow:hidden; }
    .video-container iframe{ position:absolute; inset:0; width:100%; height:100%; border:0; }
    .dropdown-content{ max-height:0; overflow:hidden; transition:max-height .35s ease; }
    .rotate-180{ transform: rotate(180deg); }
    @media (prefers-reduced-motion: reduce){
      .hero-illustration{ animation:none !important; }
      .level-card, .dropdown-content{ transition: none !important; }
    }
  </style>
</head>
<body class="bg-gradient-to-br from-yellow-100 via-orange-100 to-amber-200 min-h-screen">
  <div class="container mx-auto px-4 py-8">
    <!-- Header -->
    <header class="text-center mb-10">
      <!-- Inline SVG tunnel illustration -->
      <svg class="hero-illustration w-40 h-40 mx-auto mb-4 drop-shadow" viewBox="0 0 200 200" role="img" aria-label="أيقونة نفق">
        <defs>
          <radialGradient id="tunnelGlow" cx="50%" cy="55%" r="60%">
            <stop offset="0%" stop-color="#fef3c7"/>
            <stop offset="40%" stop-color="#fde68a"/>
            <stop offset="100%" stop-color="#a16207"/>
          </radialGradient>
          <linearGradient id="stone" x1="0" y1="0" x2="0" y2="1">
            <stop offset="0%" stop-color="#6b7280"/>
            <stop offset="100%" stop-color="#374151"/>
          </linearGradient>
          <linearGradient id="ground" x1="0" y1="0" x2="0" y2="1">
            <stop offset="0%" stop-color="#b45309"/>
            <stop offset="100%" stop-color="#7c2d12"/>
          </linearGradient>
        </defs>
        <!-- Ground -->
        <rect x="0" y="150" width="200" height="50" fill="url(#ground)"/>
        <!-- Tunnel arch (stone) -->
        <path d="M30,150 Q100,30 170,150 Z" fill="url(#stone)" stroke="#111827" stroke-width="2"/>
        <!-- Tunnel inner darkness -->
        <path d="M50,150 Q100,55 150,150 Z" fill="#111827"/>
        <!-- Light/glow inside tunnel -->
        <ellipse cx="100" cy="135" rx="24" ry="10" fill="url(#tunnelGlow)" opacity="0.75"/>
        <!-- Rails -->
        <g>
          <!-- sleepers -->
          <g fill="#92400e">
            <rect x="66" y="152" width="68" height="4" />
            <rect x="62" y="158" width="76" height="4" />
            <rect x="58" y="164" width="84" height="4" />
            <rect x="54" y="170" width="92" height="4" />
            <rect x="50" y="176" width="100" height="4" />
          </g>
          <!-- rails -->
          <path d="M80,150 L55,200" stroke="#f59e0b" stroke-width="5" stroke-linecap="round"/>
          <path d="M120,150 L145,200" stroke="#f59e0b" stroke-width="5" stroke-linecap="round"/>
        </g>
      </svg>
      <h1 class="text-5xl font-bold text-amber-800 mb-2">لعبة الأنفاق</h1>
      <p class="text-xl text-amber-700">اختر المستوى لمشاهدة الحل</p>
    </header>

    <!-- Levels -->
    <div class="max-w-4xl mx-auto space-y-4" id="levels">
      <!-- Level 1 -->
      <div class="level-card bg-white rounded-2xl shadow-lg overflow-hidden">
        <button type="button" class="w-full p-6 flex items-center justify-between hover:bg-amber-50 transition-colors"
                aria-expanded="false" aria-controls="level1" data-target="level1" onclick="toggleLevel('level1')">
          <div class="flex items-center gap-4">
            <div class="w-16 h-16 bg-gradient-to-br from-yellow-400 to-orange-500 rounded-full flex items-center justify-center text-3xl font-bold text-white shadow-lg">1</div>
            <div class="text-right">
              <h2 class="text-2xl font-bold text-amber-800">المستوى الأول</h2>
              <p class="text-amber-600">ابدأ رحلتك</p>
            </div>
          </div>
          <svg id="arrow-level1" class="w-8 h-8 text-amber-600 transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
          </svg>
        </button>
        <div id="level1" class="dropdown-content px-6 pb-6" role="region" aria-labelledby="arrow-level1">
          <div class="video-container">
            <iframe title="حل المستوى الأول (Google Drive)" src="https://drive.google.com/file/d/1UQc3p_ERaLGNMqvZkw0mS1RFBMZLaq2U/preview" allowfullscreen loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>
          </div>
        </div>
      </div>

      <!-- Level 2 -->
      <div class="level-card bg-white rounded-2xl shadow-lg overflow-hidden">
        <button type="button" class="w-full p-6 flex items-center justify-between hover:bg-amber-50 transition-colors"
                aria-expanded="false" aria-controls="level2" data-target="level2" onclick="toggleLevel('level2')">
          <div class="flex items-center gap-4">
            <div class="w-16 h-16 bg-gradient-to-br from-orange-400 to-red-500 rounded-full flex items-center justify-center text-3xl font-bold text-white shadow-lg">2</div>
            <div class="text-right">
              <h2 class="text-2xl font-bold text-amber-800">المستوى الثاني</h2>
              <p class="text-amber-600">تحديات جديدة</p>
            </div>
          </div>
          <svg id="arrow-level2" class="w-8 h-8 text-amber-600 transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
          </svg>
        </button>
        <div id="level2" class="dropdown-content px-6 pb-6" role="region" aria-labelledby="arrow-level2">
          <div class="video-container">
            <iframe title="حل المستوى الثاني (Google Drive)" src="https://drive.google.com/file/d/15ENnWClGhgvYHXgN8Rxq0pVi-w8puv7A/preview" allowfullscreen loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>
          </div>
          <div class="mt-3 text-sm text-amber-700">
            <a class="underline hover:no-underline" href="https://drive.google.com/file/d/15ENnWClGhgvYHXgN8Rxq0pVi-w8puv7A/view?usp=drive_link" target="_blank" rel="noopener">فتح الفيديو في تبويب جديد</a>
          </div>
        </div>
      </div>

      <!-- Level 3 -->
      <div class="level-card bg-white rounded-2xl shadow-lg overflow-hidden">
        <button type="button" class="w-full p-6 flex items-center justify-between hover:bg-amber-50 transition-colors"
                aria-expanded="false" aria-controls="level3" data-target="level3" onclick="toggleLevel('level3')">
          <div class="flex items-center gap-4">
            <div class="w-16 h-16 bg-gradient-to-br from-red-400 to-pink-500 rounded-full flex items-center justify-center text-3xl font-bold text-white shadow-lg">3</div>
            <div class="text-right">
              <h2 class="text-2xl font-bold text-amber-800">المستوى الثالث</h2>
              <p class="text-amber-600">المغامرة تزداد إثارة</p>
            </div>
          </div>
          <svg id="arrow-level3" class="w-8 h-8 text-amber-600 transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
          </svg>
        </button>
        <div id="level3" class="dropdown-content px-6 pb-6" role="region" aria-labelledby="arrow-level3">
          <div class="video-container">
            <iframe title="حل المستوى الثالث (Google Drive)" src="https://drive.google.com/file/d/1_7fa5O7--HVzqm-NFnsZ04eoZ6703bFi/preview" allowfullscreen loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>
          </div>
          <div class="mt-3 text-sm text-amber-700">
            <a class="underline hover:no-underline" href="https://drive.google.com/file/d/1_7fa5O7--HVzqm-NFnsZ04eoZ6703bFi/view?usp=drive_link" target="_blank" rel="noopener">فتح الفيديو في تبويب جديد</a>
          </div>
        </div>
      </div>

      <!-- Level 4 -->
      <div class="level-card bg-white rounded-2xl shadow-lg overflow-hidden">
        <button type="button" class="w-full p-6 flex items-center justify-between hover:bg-amber-50 transition-colors"
                aria-expanded="false" aria-controls="level4" data-target="level4" onclick="toggleLevel('level4')">
          <div class="flex items-center gap-4">
            <div class="w-16 h-16 bg-gradient-to-br from-purple-400 to-indigo-500 rounded-full flex items-center justify-center text-3xl font-bold text-white shadow-lg">4</div>
            <div class="text-right">
              <h2 class="text-2xl font-bold text-amber-800">المستوى الرابع</h2>
              <p class="text-amber-600">التحدي الأكبر!</p>
            </div>
          </div>
          <svg id="arrow-level4" class="w-8 h-8 text-amber-600 transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
          </svg>
        </button>
        <div id="level4" class="dropdown-content px-6 pb-6" role="region" aria-labelledby="arrow-level4">
          <div class="video-container">
            <iframe title="حل المستوى الرابع (Google Drive)" src="https://drive.google.com/file/d/11gj4_V6jqPqbZ4mlS7SqgmOLvdPAbIcu/preview" allowfullscreen loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>
          </div>
          <div class="mt-3 text-sm text-amber-700">
            <a class="underline hover:no-underline" href="https://drive.google.com/file/d/11gj4_V6jqPqbZ4mlS7SqgmOLvdPAbIcu/view?usp=drive_link" target="_blank" rel="noopener">فتح الفيديو في تبويب جديد</a>
          </div>
        </div>
      </div>
    </div>

    <!-- Footer -->
    <footer class="text-center mt-12 text-amber-700">
      <p class="text-lg">🎮 استمتع باللعب ووصل لأعلى المستويات!</p>
      <p class="mt-2 text-sm font-semibold text-amber-800">شرح المشرف التربوي : ضيف الله طوهري</p>
    </footer>
  </div>

  <script>
    function toggleLevel(levelId){
      const content = document.getElementById(levelId);
      const arrow = document.getElementById('arrow-' + levelId);
      const btn = document.querySelector('button[data-target="' + levelId + '"]');
      const isOpen = content.style.maxHeight && content.style.maxHeight !== '0px';

      document.querySelectorAll('.dropdown-content').forEach(el => { el.style.maxHeight = null; });
      document.querySelectorAll('[id^="arrow-"]').forEach(a => { a.classList.remove('rotate-180'); });
      document.querySelectorAll('button[data-target]').forEach(b => b.setAttribute('aria-expanded','false'));

      if(!isOpen){
        content.style.maxHeight = content.scrollHeight + 'px';
        arrow.classList.add('rotate-180');
        btn.setAttribute('aria-expanded','true');
      }
    }

    window.addEventListener('resize', () => {
      const open = document.querySelector('.dropdown-content[style*="max-height"]');
      if(open){
        open.style.maxHeight = open.scrollHeight + 'px';
      }
    });
  </script>
</body>
</html>
